druid.service=druid/broker
druid.host={{ ansible_ec2_public_ipv4|default(ansible_default_ipv4.address) }}
druid.port={{ druid_broker_port }}

# HTTP server threads
druid.broker.http.numConnections=5
druid.server.http.numThreads=60

# HTTP client settings
druid.broker.http.numConnections=50
druid.broker.http.maxQueuedBytes=10MiB

# Processing threads and buffers
druid.processing.buffer.sizeBytes=500MiB
druid.processing.numThreads=1
druid.processing.numMergeBuffers=6
druid.processing.tmpDir=var/druid/processing

# Query cache (we use a small local cache)
druid.broker.cache.useCache=true
druid.broker.cache.populateCache=true
druid.cache.type=local
druid.cache.sizeInBytes=10000000

{% if druid_sql_enabled is defined %}
druid.sql.enable=true
{% endif %}
